	DATA 	EQU 0X21

	ORG	0X00
	GOTO	START

START
    BCF     STATUS, 5
    BCF     STATUS, 6

    MOVLW   B'01000001'
    MOVWF   ADCON0

    BSF     STATUS, 5
    BCF     STATUS, 6

    CLRF    TRISA
	CLRF	TRISB
    CLRF    TRISC
    CLRF    TRISD
    CLRF    TRISE

    MOVLW   B'00000111'
	;MOVLW    B'00000000'
    MOVWF   OPTION_REG

    MOVLW   B'00001110'
    MOVWF   ADCON1

    BSF     TRISA, 0

    BCF     STATUS, 5
    BCF     STATUS, 6

LOOP
    BTFSS   INTCON, T0IF
    GOTO LOOP
    BCF     INTCON, T0IF
    BSF     ADCON0, GO
WAIT
    BTFSC   ADCON0, GO
    GOTO WAIT
    MOVF    ADRESH, W
    MOVWF   PORTB
	CALL 	DISPLAY
    GOTO LOOP

;=== BIT DISTRO ===
;8  4   2   1
;3  2   1   0

;0  0   0   0 -> 0
;0  0   0   1 -> 1
;0  0   1   0 -> 2
;0  0   1   1 -> 3
;0  1   0   0 -> 4
;0  1   0   1 -> 5
;0  1   1   0 -> 6
;0  1   1   1 -> 7
;1  0   0   0 -> 8
;1  0   0   1 -> 9
;1  0   1   0 -> 10
;1  0   1   1 -> 11
;1  1   0   0 -> 12
;1  1   0   1 -> 13
;1  1   1   0 -> 14
;1  1   1   1 -> 15
;WE'LL SEE IF THIS WORKS
;IT WORKED BIG TIME!
DISPLAY
    MOVLW   B'00001111'
    MOVWF   DATA
	MOVF	ADRESH,	W
    ANDWF   DATA, 0X00
	MOVWF	DATA
    GOTO    GETNUM
    RETURN

GETNUM

    MOVF    DATA, W
    XORLW   B'00000000'
	BTFSC	STATUS, 2
	GOTO	ZERO

    MOVF    DATA, W
    XORLW   B'00000001'
	BTFSC	STATUS, 2
	GOTO	ONE

    MOVF    DATA, W
    XORLW   B'00000010'
	BTFSC	STATUS, 2
	GOTO	TWO

    MOVF    DATA, W
    XORLW   B'00000011'
	BTFSC	STATUS, 2
	GOTO	THREE

    MOVF    DATA, W
    XORLW   B'00000100'
	BTFSC	STATUS, 2
	GOTO	FOUR

    MOVF    DATA, W
    XORLW   B'00000101'
	BTFSC	STATUS, 2
	GOTO	FIVE

    MOVF    DATA, W
    XORLW   B'00000110'
	BTFSC	STATUS, 2
	GOTO	SIX

    MOVF    DATA, W
    XORLW   B'00000111'
	BTFSC	STATUS, 2
	GOTO	SEVEN

    MOVF    DATA, W
    XORLW   B'00001000'
	BTFSC	STATUS, 2
	GOTO	EIGHT

    MOVF    DATA, W
    XORLW   B'00001001'
	BTFSC	STATUS, 2
	GOTO	NINE

    MOVF    DATA, W
    XORLW   B'00001010'
	BTFSC	STATUS, 2
	GOTO	TEN

    MOVF    DATA, W
    XORLW   B'00001011'
	BTFSC	STATUS, 2
	GOTO	ELEVEN

    MOVF    DATA, W
    XORLW   B'00001100'
	BTFSC	STATUS, 2
	GOTO	TWELVE

    MOVF    DATA, W
    XORLW   B'00001101'
	BTFSC	STATUS, 2
	GOTO	THIRTEEN

    MOVF    DATA, W
    XORLW   B'00001110'
	BTFSC	STATUS, 2
	GOTO	FOURTEEN

    MOVF    DATA, W
    XORLW   B'00001111'
	BTFSC	STATUS, 2
	GOTO	FIFTEEN


;DISPLAY 1 == DISPLAY 2
;C0:PIN 15 -- D0:PIN 19 -> DISPLAY 1:E
;C1:PIN 16 -- D1:PIN 20 -> DISPLAY 2:D
;C2:PIN 17 -- D2:PIN 21 -> DISPLAY 4:C
;C3:PIN 18 -- D3:PIN 22 -> DISPLAY 6:B
;C4:PIN 23 -- D4:PIN 27 -> DISPLAY 7:A
;C5:PIN 24 -- D5:PIN 28 -> DISPLAY 9:F
;C6:PIN 25 -- D6:PIN 29 -> DISPLAY 10:G
ZERO
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVWF	PORTD
    RETURN

ONE
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'00001100'     ;1
	MOVWF	PORTD
	RETURN

TWO
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01011011'     ;2
	MOVWF	PORTD
	RETURN

THREE
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01011110'     ;3
	MOVWF	PORTD
	RETURN

FOUR
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01101100'     ;4
	MOVWF	PORTD
	RETURN

FIVE
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01110110'     ;5
	MOVWF	PORTD
	RETURN

SIX
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01110111'     ;6
	MOVWF	PORTD
	RETURN

SEVEN
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'00011100'     ;7
	RETURN

EIGHT
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01111111'     ;8
	MOVWF	PORTD
	RETURN

NINE
	MOVLW	B'00111111'     ;0
	MOVWF	PORTC
	MOVLW	B'01111100'     ;9
	MOVWF	PORTD
	RETURN

TEN
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'00111111'     ;0
	MOVWF	PORTD
	RETURN

ELEVEN
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'00001100'     ;1
	MOVWF	PORTD
	RETURN

TWELVE
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'01011011'     ;2
	MOVWF	PORTD
	RETURN

THIRTEEN
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'01011110'     ;3
	MOVWF	PORTD
	RETURN

FOURTEEN
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'01101100'     ;4
	MOVWF	PORTD
	RETURN

FIFTEEN
	MOVLW	B'00001100'     ;1
	MOVWF	PORTC
	MOVLW	B'01110110'     ;5
	MOVWF	PORTD
	RETURN

END
